# Програмный стековый процессор

## Описание

Проект состоит из процессора и ассемблера.
Ассемблер компилирует код программы в бинарный файл, который исполняется процессором.

На процессоре есть 4 регистра: rax, rbx, rcx, rdx, стек и оперативная память.
Опреативную память можно использовать для рисования в консоли.

## Команды ассемблера

* `hlt` - завершает программу
* `push` - кладёт аргумнет на стек
* `pop` - кладёт верхнне значение со стека в аргумент
Для команд push и pop аргументом может выступать:
  + один из 4 регистров:\
    `push rax`, `pop rcx`
  + адрес в памяти:\
    `push [rax]`, `pop [42]`, `push [rax + 5]`
  + число (только для push):\
    `push 5`
  
* `in` - читает значение из консоли, и кладёт его на стек
* `out` - выводит верхнее значение со стека в консоль
* Арифметические операции над двумя верхними значениями стека, результат кладётся на стек:
  + `add`
  + `sub`
  + `mul`
  + `div`
  + `sqrt` (1 аргумент)
* ``jmp`` - безусловный переход на метку
* Условные переходы:
  + ``je``
  + ``jne``
  + ``ja``
  + ``jae``
  + ``jb``
  + ``jbe``
* `call` - вызов функции
* `ret` - возврат из функции
* `jmon` - безусловный переход, работает только по понедельникам
